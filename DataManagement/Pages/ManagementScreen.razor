@page "/datamanagement"

@inject MonitorDataAccess.DataAccess.ImportFromMoodHistoryDataAccess importFromMoodHistoryDataAccess

<h3>Data Management</h3>

<h4>Mood data</h4>

<p>Import/Export to and from a standard format</p>
<p>Select database : (json local, sql, google sheet)</p>
<p>Import MoodHistory export</p>

<MatButton OnClick="@ImportData" Label="Import Data"></MatButton>

<h4>Log data</h4>

<p>Import from google notes</p>

<MatFileUpload OnChange="@FilesReady" Label="Drop a single file here or Browse"></MatFileUpload>
@foreach (var f in list)
{
    <ul>@f</ul>
}

<MatButton OnClick="@ImportData" Label="Import Data"></MatButton>



@code {
    private async Task ImportData()
    {
        // TODO
        importFromMoodHistoryDataAccess.GetAll();
    }



    List<string> list = new List<string>();

    void FilesReady(IMatFileUploadEntry[] files)
    {
        foreach (var file in files)
        {
            list.Add($"Name: {file.Name} - Size: {file.Size}");
        }
    }
}
